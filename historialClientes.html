<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clientes</title>
    <link rel="stylesheet" href="estilos/historialClientes.css">
</head>
<body>
    <div class="container">
    <header>
      <nav class="menu">
        <ul>
            <li><img src="img/logo.png" alt="logo" class="logo"></li>
            <li><a href="solicitudes.html">Solicitudes</a></li>
            <li><a href="agenda.html">Agenda</a></li>
            <li><a href="inventario.html">Inventario</a></li>
            <li><a href="colaboradores.html">Colaboradores</a></li>
            <li><a href="historialAdmin.html">Historial</a></li>
            <li><a href="#" id="logout">Cerrar sesión</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h1>Listado de Clientes</h1>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Correo</th>
            </tr>
          </thead>
          <tbody id="clientes-body">
            <!-- Colaboradores cargados aquí -->
          </tbody>
        </table>
      </div>
    </main>
  </div>
</body>

<script>
    
    const getClientes = () => {
        const listClientes = localStorage.getItem('usuarios');

        if(!listClientes) return;

        const clientes = JSON.parse(listClientes);
        let html = '';

        clientes.forEach(clientes => {
            html += `
            <tr>
                <td>${clientes.nombre}</td>
                <td>${clientes.apellido}</td>
                <td>${clientes.correo}</td>
            </tr>
            `;  
        });

        document.querySelector('#clientes-body').innerHTML = html;
    };
    window.addEventListener('DOMContentLoaded', getClientes);

    const logout = document.getElementById('logout');
    if (logout) {
      logout.addEventListener('click', () => {
        localStorage.removeItem('usuario');
        window.location.href = 'login.html';
      });
    }

</script>
</html>